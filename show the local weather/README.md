# 作品说明

### 作品说明

    此作品说明，含三个部分：已实现的功能，完成过程中的问题分析及处理，可完善部分.
    
**1、已实现的功能** 
    
    1、使用jQuery的AJAX通过聚合数据的天气查询API实现部分城市的当天(分即时和全天)及未来五天的查询和显示
    
    2、目前可查询的天气有4个城市：北京、上海、南京、深圳
    
    3、当天天气有对应的图标显示，且有白天和夜晚的区别(早6-晚6点)
    
    4、城市的背景图片也会随着时间的变化而变化(时间分割线6-10点，10-16点，16-20点，20点之后)

**2、完成过程中的问题分析及处理**[聚合数据API-天气查询](https://www.juhe.cn/docs/api/id/39/aid/132)

    1、js文件中文件的路径和html保持一致即可，但css要有区别；前期，js文件、css文件的上级文件夹和html文件在同一层。
    
    2、因该作品是第一次jQuery的ajax通过API获取数据，在这过程中出现了很多问题，
      (1) 一开始是XMLHttpRequest.status=0的状态，说明没有send(),经查证原因：该题为跨域调用数据，需要将dataType设置
          成“jsonp”,同时设置jsonpCallback:"回调函数名";才可以实现跨域设置;        
      (2) 改了dataType后，再次出现XMLHttpRequest.status=404状态(edge浏览器)，换了火狐之后，显示
          XMLHttpRequest.status=200状态，但是没有进入success，说明请求的页面不存在；经查证原因：url失效，需替换成
          有效的url;
          
    3、鼠标移到右上角的即时天气显示框时，会弹出当天的整天天气信息，原打算模仿“墨迹”的天气弹出和隐藏效果的，没模仿成
       功；原打算的效果：鼠标移动到即时天气显示框时，会从上面下滑出当天整天的天气信息；鼠标离开时，该信息框回弹回去。
       未实现原因分析：当当天整天天气信息框下滑时，覆盖了即时天气显示框，对于即时天气显示框来说此时的鼠标已经移开，
       所以应该执行回弹操作；在这瞬间，整天天气信息框已经下滑，鼠标再次出现在即时天气显示框上，然后就出现了紊乱。
       尝试了几个方法，都没有实现自己想要的结果。暂时先妥协的接受鼠标移动到即时天气显示框时，整天天气显示框弹出并
       上下回弹一次.后期多学点看看能不能有方法处理.

**3、可完善部分**
  
    1、目前只实现了4个主城市的天气显示，可往下分到市区、可增加城市数量(可将城市信息封装成JSON类型)
    
    2、目前天气的图标也比较少，只有5对(白天和夜晚)，很多天气的图标没有加，且图标的选择依据比较单一，也有待完善
    
    3、城市的背景图片也比较少，且只有晴天的，也有因天气的变化而变化
    
    4、整天天气显示框的不完善，详见问题3
    
    5、edge浏览器获取不到数据，返回404.暂时不知道解决方法,试验了文档模式法和条件注释法都没实现

    6、以上解释和分析可能因为知识的限制，存在不全或有误，若发现，会再更新~

